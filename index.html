<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Gemini OS</title>
    <style type="text/tailwindcss">
      @layer base {
        :root {
          --bg-desktop-grad-1: rgba(29, 78, 216, 0.3);
          --bg-desktop-grad-2: rgba(107, 33, 168, 0.3);
          --bg-desktop-main: #0f172a;
          --bg-desktop-fallback: #0c1322;
          --text-primary: theme('colors.white');
          --text-secondary: theme('colors.slate.300');
          --text-tertiary: theme('colors.gray.400');
          --text-placeholder: theme('colors.gray.500');
          --icon-text-shadow: 0 1px 3px rgba(0,0,0,0.5);
          --window-bg: theme('colors.slate.800/90');
          --window-border: theme('colors.white/20');
          --window-border-focused: theme('colors.blue.400');
          --titlebar-bg: theme('colors.slate.700/80');
          --titlebar-text: theme('colors.white');
          --taskbar-bg: theme('colors.slate.900/60');
          --startmenu-bg: theme('colors.slate.900/60');
          --llm-text-color: theme('colors.gray.200');
          --llm-input-bg: theme('colors.slate.700');
          --llm-input-border: theme('colors.slate.600');
          --icon-hover-bg: theme('colors.white/10');
          --divider-color: theme('colors.white/20');
        }
        .light-theme {
          --bg-desktop-grad-1: rgba(59, 130, 246, 0.2);
          --bg-desktop-grad-2: rgba(139, 92, 246, 0.2);
          --bg-desktop-main: #f1f5f9;
          --bg-desktop-fallback: #e2e8f0;
          --text-primary: theme('colors.slate.800');
          --text-secondary: theme('colors.slate.600');
          --text-tertiary: theme('colors.gray.600');
          --text-placeholder: theme('colors.gray.500');
          --icon-text-shadow: 0 1px 2px rgba(0,0,0,0.1);
          --window-bg: theme('colors.white/95');
          --window-border: theme('colors.gray.300');
          --window-border-focused: theme('colors.blue.500');
          --titlebar-bg: theme('colors.slate.200/90');
          --titlebar-text: theme('colors.slate.800');
          --taskbar-bg: theme('colors.white/70');
          --startmenu-bg: theme('colors.white/70');
          --llm-text-color: theme('colors.gray.800');
          --llm-input-bg: theme('colors.white');
          --llm-input-border: theme('colors.gray.300');
          --icon-hover-bg: theme('colors.black/5');
          --divider-color: theme('colors.black/10');
        }
        body {
          @apply bg-gray-900;
          background-color: var(--bg-desktop-main);
          background-image: radial-gradient(
              circle at 25% 25%,
              var(--bg-desktop-grad-1),
              rgba(0, 0, 0, 0) 40%
            ),
            radial-gradient(
              circle at 75% 75%,
              var(--bg-desktop-grad-2),
              rgba(0, 0, 0, 0) 40%
            ),
            linear-gradient(135deg, var(--bg-desktop-main), var(--bg-desktop-fallback));
          font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
      }
      @layer utilities {
        /* Define classes the LLM is instructed to use, applying Tailwind's styles */
        .llm-button {
          @apply bg-blue-600 text-white border-none rounded-md py-2 px-4 m-2 cursor-pointer text-base font-medium text-center transition-colors hover:bg-blue-700 active:bg-blue-800 active:transform active:translate-y-px;
        }
        .llm-text {
          @apply m-2 text-base leading-relaxed;
          color: var(--llm-text-color);
        }
        .llm-title {
          /* New class for titles */
          @apply font-bold text-xl mb-3 mt-1 mx-2; /* Added mt-1 and mx-2 for consistent spacing with llm-text */
           color: var(--text-secondary);
        }
        .llm-input,
        .llm-textarea {
          @apply m-2 p-2 w-full border rounded-md font-sans text-sm transition-all focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-300;
          background-color: var(--llm-input-bg);
          border-color: var(--llm-input-border);
          color: var(--llm-text-color);
        }
        .llm-textarea {
          @apply min-h-[120px];
        }
        .llm-container {
          @apply w-full flex flex-col items-start mb-4 gap-2 p-2;
        }
        .llm-row {
          @apply w-full flex items-center mb-2 gap-2;
        }
        .llm-label {
          @apply mr-1 text-sm;
           color: var(--text-secondary);
        }
        /* Styles for generated icons to match desktop icons */
        .icon {
          @apply w-24 h-28 flex flex-col items-center justify-start text-center m-2 p-2 cursor-pointer select-none rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500;
          background-color: transparent;
        }
        .icon:hover, .icon:focus {
          background-color: var(--icon-hover-bg);
        }
        .icon-image {
          @apply text-5xl mb-2 drop-shadow-sm;
        }
        .icon-label {
          @apply text-sm font-medium break-words max-w-full leading-tight;
          color: var(--text-secondary);
        }
      }
    </style>
    <script type="importmap">
      {
        "imports": {
          "react-dom/": "https://esm.sh/react-dom@^19.1.0/",
          "react/": "https://esm.sh/react@^19.1.0/",
          "react": "https://esm.sh/react@^19.1.0",
          "@google/genai": "https://esm.sh/@google/genai@^1.5.1",
          "@tailwindcss/browser": "https://esm.sh/@tailwindcss/browser@^4.1.10",
          "react-rnd": "https://esm.sh/react-rnd@^10.4.11"
        }
      }
    </script>
    <link rel="stylesheet" href="/index.css" />
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/index.tsx"></script>
  </body>
</html>